
<div class="container">
  <!-- Titulo y Barra separadora -->
  <h2> {{ titulo }} <small> | SICDOC.</small></h2>
  <hr class="colorgraph">
  <div class="row-fluid">
    <div class="col-xs-12 col-md-12 col-lg-12" id="primero">

      <!-- Area de Selecion de Criterios -->
      <div class="jumbotron" >
        <h4 class="display-4" style="margin-top:-40px" >Seleccione los Criterios para el Reporte</h4>
        <!-- <p class="lead">Seleccione los Criterio para el Reporte</p> -->
        <hr class="my-4">
        <!-- <p>It uses utility classes for typography and spacing to space content out within the larger container.</p> -->
        <p class="lead">
        </p>
        <!-- Formulario de Seleccion de Criterios de Busqueda -->
      <form #reporteForm="ngForm" (ngSubmit)="onSubmit(reporteForm)" name="reporteForm" role="form">
          <!-- Tarjeta de Primer Criterio -->
          <div class="row">
            <div class="col-sm-6">
              <div class="card">
                <div class="card-block" >
                  <h3 class="card-title">Selección de Fechas</h3>
                  <!-- Todas las Opciones -->
                  <!-- <label class="custom-control custom-checkbox">
                    <input type="checkbox" name="chkTipoCom[]" class="custom-control-input">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description">Todas las opciones</span>
                  </label> -->
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                      Fecha de Inicio
                      <input #dtFechaIni="ngModel" type="date" class="form-control" name="dtFechaIni"
                        [(ngModel)]="_ModelReporteGeneral.fechaInicial" required value="">
                    </li>
                    <li class="list-group-item">
                      Fecha de Final
                      <input #dtFechaFin="ngModel" type="date" class="form-control" name="dtFechaFin"
                        [(ngModel)]="_ModelReporteGeneral.fechaFinal" required value="">
                    </li>
                  </ul>

                  <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="card">
                <div class="card-block">
                  <h3 class="card-title">Seleción de Dirección</h3>
                  <!-- Todas las Opciones -->
                  <!-- <label class="custom-control custom-checkbox">
                    <input type="checkbox" name="chkAllFunc[]" class="custom-control-input">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description">Todos las Direcciones</span>
                  </label> -->
                  <!-- Input de Busqueda de las Direcciones -->
                  <!-- Loader de Carga de los Datos -->
                  <ng2-completer inputClass="form-control"  fieldTabindex="true" name="idDireccion"
                      [(ngModel)]="searchStrDireccion" inputId="1"
                      [datasource]="dataServiceSubDireccion" [minSearchLength]="2" textSearching="Buscando ..."
                      textNoResults="No se han encontrado nada ..."
                      placeholder="Selecciona una Direccion" (selected)="onSelectedDireccion($event)" >
                  </ng2-completer>
                  <!-- <p>Selected: {{selectedDireccion}}</p> -->
                  <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>

                <div class="card-block">
                  <h3 class="card-title">Seleción de Funcionario</h3>
                  <!-- Todas las Opciones -->
                  <!-- <label class="custom-control custom-checkbox">
                    <input type="checkbox" name="chkTipoCom[]" class="custom-control-input">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description">Todos los Funcionarios</span>
                  </label> -->
                  <!-- Input de Busqueda de Funcionario -->
                  <ng2-completer inputClass="form-control"  fieldTabindex="true" name="idFuncionario"
                      [(ngModel)]="searchStrFuncionario" inputId="1"
                      [datasource]="dataServiceFuncionario" [minSearchLength]="2" textSearching="Buscando ..."
                      textNoResults="No se han encontrado nada ..."
                      placeholder="Selecciona un Funcionario" (selected)="onSelectedFuncionarios($event)" >
                  </ng2-completer>
                  <!-- <p>Selected: {{selectedFuncionario}}</p> -->
                  <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                </div>
                <div id="loader-2" *ngIf="loading == 'show' " style="margin-left:35%; margin-top:5%;">
                  <img src="assets/images/30.gif" alt="Cargando Tareas">
                </div>
              </div>
            </div>
        </div>
        <p class="lead">
        </p>
        <!-- Segunda Fila de Criterios de Seleccion -->
        <div class="row">
          <div class="col-sm-6">
            <div class="card">
              <div class="card-block">
                <h3 class="card-title">Tipo de Comunicación</h3>
                <!-- Todas las Opciones -->
                <!-- <label class="custom-control custom-checkbox">
                  <input type="checkbox" name="chkAllTipoCom[]" class="custom-control-input">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description">Todas las opciones</span>
                </label> -->
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">

                    <!-- Oficios -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComOficio }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Oficios</span>
                    </label>
                    <!-- Memoramdums -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComMemo }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Memoramdums</span>
                    </label>
                    <!-- Nota Verbal -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComNotVerb }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Nota Verbal</span>
                    </label>
                    <!-- Circulares -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComCircular }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Circulares</span>
                    </label>
                    <!-- Correos -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComCorreos }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Correos</span>
                    </label>
                    <!-- Llamadas -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComLlamadas }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Llamadas</span>
                    </label>
                    <!-- Verbal -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComVerbal }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Reuniones</span>
                    </label>
                    <!-- Reuniones / Video Conferencias -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkTipoCom" value="{{ idTipoComReunion }}" class="custom-control-input">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Video Conferencias</span>
                    </label>
                  </li>
                </ul>
                <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="card">
              <div class="card-block">
                <h3 class="card-title">Estado de Comunicación</h3>
                <!-- Todas las Opciones -->
                <!-- <label class="custom-control custom-checkbox">
                  <input type="checkbox" name="chkEstComAll" id="chkEstComAll"  (click)="checkTodos()" class="custom-control-input 0">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description">Todas las opciones</span>
                </label> -->
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <!-- Oficios -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkEstCom" value="{{ idEstadoIngreso }}" id="chkEstCom" class="custom-control-input 1">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Ingreso</span>
                    </label>
                    <!-- Correos -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkEstCom" value="{{ idEstadoAsignado }}" id="chkEstCom" class="custom-control-input 1">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Asignado</span>
                    </label>
                    <!-- Llamadas -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkEstCom" value="{{ idEstadoEnRespuesta }}" id="chkEstCom" class="custom-control-input 1">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">En Respuesta</span>
                    </label>
                    <!-- Verbal -->
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" name="chkEstCom" value="{{ idEstadoFinalizado }}" id="chkEstCom" class="custom-control-input 1">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">Finalizado</span>
                    </label>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <br>
        <!-- <input type="button" name="" value="Recarga" (click)="recargaTable()"> -->
        <input type="submit" value="Generar Reporte" class="btn btn-primary btn-lg"
          [disabled]="!reporteForm.valid" >

          <!-- Loader de Carga de los Datos -->
          <div id="loader-2" *ngIf="loading_tableIn == 'show' " style="margin-left:35%; margin-top:2%; margin-bottom:-4%;" >
            <!-- <img src="assets/images/30.gif" alt="Cargando Tareas" style="width:30%"> -->
            <img src="assets/images/745.gif" alt="Cargando Tareas">
          </div>

      </form> <!-- Fin de Formulario de Seleccion de Criterios de Busqueda -->
      </div>

      <hr class="colorgraph">

      <!-- Tabla del Reporte -->
      <h4 id="editor" >Resumen de la Información Solicitada</h4>
      <hr>
      <!-- Loader de Carga de los Datos -->
      <div id="loader-2" *ngIf="loading_tableIn == 'show' " style="margin-left:45%; margin-top:2%; margin-bottom:4%;" >
        <!-- <img src="assets/images/30.gif" alt="Cargando Tareas" style="width:30%"> -->
        <img src="assets/images/832.gif" alt="Cargando Tareas">
      </div>
      <table class="table table-striped table-hover table-responsive" cellspacing="0" id="example" *ngIf="loading_tableIn == 'hide'">
        <thead>
          <tr>
            <th>Ingreso / Salida</th>
            <th>Tipo / Comunicación</th>
            <th>Código / Comunicación</th>
            <th>Direccion Responsable</th>
            <th>Funcionario Responsable</th>
            <th>Fecha Creación</th>
            <th>Fecha Finalizado</th>
            <th>Institución Remitente</th>
            <th>Tema / Asunto</th>
            <th>Descripción / Comunicación</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody id="newTable" >
          <tr *ngFor="let item of JsonOutgetReporteComunicaion">
            <th scope="row">{{ item.idTipoComunicacion.descTipoComunicacion }}</th>
            <th scope="row">{{ item.idTipoDocumento.descTipoDocumento }}</th>
            <td>{{ item.codCorrespondenciaEnc }}</td>
            <td>{{ item.idDeptoFuncional.inicialesDeptoFuncional }} | {{ item.idDeptoFuncional.descDeptoFuncional }}</td>
            <td>{{ item.idFuncionarioAsignado.nombre1Funcionario }} - {{ item.idFuncionarioAsignado.apellido1Funcionario }}</td>
            <td>{{ item.fechaIngreso.timestamp | generateDate }}</td>
            <td>{{ item.fechaFinalizacion.timestamp | generateDate }}</td>
            <td>{{ item.idInstitucion.descInstitucion }} | {{ item.idInstitucion.perfilInstitucion }}</td>
            <td>{{ item.temaComunicacion }}</td>
            <td>{{ item.descCorrespondenciaEnc }}</td>
            <td>{{ item.idEstado.descripcionEstado }}</td>
          </tr>
        </tbody>
      </table>

      <!-- <button class="btn btn-primary" data-toggle="modal" data-target="#reportModal">Launch demo modal</button> -->

      <div id="reportModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              ...
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <hr>
</div>
